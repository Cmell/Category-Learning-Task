<!doctype html>
<html>
	<head>
		<title>My experiment</title>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/seedrandom/2.4.0/lib/xor4096.min.js"></script>
		<script src="jspsych-5.0.3/jspsych.js"></script>
		<script src="jspsych-5.0.3/plugins/jspsych-text.js"></script>
		<script src="jspsych-5.0.3/plugins/jspsych-single-stim.js"></script>
		<link href="jspsych-5.0.3/css/jspsych.css" rel="stylesheet" type="text/css"></link>
	</head>
	<body>
	</body>
	<script>

	var welcome_block = {
	  type: 'text',
	  text: 'Welcome to the experiment. Press any key to begin!'
	};

	var instruction_block = {
	  type: "text",
	  text: "<p>In this experiment, a circle will appear in the center " +
	    "of the screen.</p><p>If the circle is <strong>blue</strong>, " +
	    "press the letter F on the keyboard as fast as you can.</p>" +
	    "<p>If the circle is <strong>red</strong>, do not press " +
	    "any key.</p>" +
	    "<div class='left center-content'><img src='img/blueCircle.png' height='200' width='200'></img>" +
	    "<p class='small'><strong>Press the F key.</strong></p></div>" +
	    "<div class='right center-content'><img src='img/redCircle.png' height='200' width='200'></img>" +
	    "<p class='small'><strong>Do not press a key.</strong></p></div>" +
	    "<p>Press any key to begin.</p>",
	  timing_post_trial: 2000
	};

	// The same category condition.
	var blue_trial = {
	  type: 'single-stim',
	  stimulus: 'img/blueCircle.png',
	  choices: ['F']
	};

	var red_trial = {
	  type: 'single-stim',
	  stimulus: 'img/redCircle.png',
	  choices: ['F']
	};

	var post_trial_gap = function() {
	  return Math.floor( Math.random() * 500 ) + 750;
	};

	test_stimuli = [
	  {
	    stimulus: 'img/blueCircle.png',
	    data: { response: 'go' }
	  },
	  {
	    stimulus: 'img/redCircle.png',
	    data: { response: 'no-go'}
	  }
	];

	var all_trials = jsPsych.randomization.repeat(test_stimuli, 5);

	var test_block = {
	  type: 'single-stim',
	  choices: ['F'],
	  randomize_order: true,
	  timeline: all_trials,
	  timing_response: 1500,
	  timing_post_trial: post_trial_gap
	};

	var timeline = [];
	/*timeline.push(welcome_block);*/
	timeline.push(instruction_block);
	timeline.push(test_block);

	jsPsych.init({
	  timeline: timeline,
	  on_finish: function() {
	    jsPsych.data.displayData();
	  }
	});

	</script>
</html>
